<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<Operation Class="PatchOperationFindMod">
    <mods>
		<li>Star Crafters Armory</li>
    </mods>
		<match Class="PatchOperationSequence">
		 <operations>

  <!-- ========== Tools: oh gods why is it so hard ========== -->

		  <li Class="PatchOperationReplace">
			<xpath>Defs/ThingDef[defName="CoS_C14_Gun" or defName="CoS_Perdition_Flamethrower"]/tools</xpath>
			<value>
			  <tools>
				<li Class="CombatExtended.ToolCE">
				  <label>grip</label>
				  <capacities>
					<li>Blunt</li>
				  </capacities>
				  <power>4</power>
				  <cooldownTime>1.54</cooldownTime>
				  <chanceFactor>1.5</chanceFactor>
				  <armorPenetrationBlunt>0.555</armorPenetrationBlunt>
				  <linkedBodyPartsGroup>Grip</linkedBodyPartsGroup>
				</li>
				<li Class="CombatExtended.ToolCE">
				  <label>muzzle</label>
				  <capacities>
					<li>Poke</li>
				  </capacities>
				  <power>6</power>
				  <cooldownTime>1.54</cooldownTime>
				  <armorPenetrationBlunt>0.555</armorPenetrationBlunt>
				  <linkedBodyPartsGroup>Muzzle</linkedBodyPartsGroup>
				</li>
			  </tools>
			</value>
		  </li>

  
    <!-- ========== C-14 Gauss Impaler ========== -->
  
<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>CoS_C14_Gun</defName>
    <statBases>
      <Mass>8.00</Mass>
      <RangedWeapon_Cooldown>0.36</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.07</ShotSpread>
      <SwayFactor>1.50</SwayFactor>
      <Bulk>13.00</Bulk>
	  <WorkToMake>24000</WorkToMake>
    </statBases>
	<costList>
		<Steel>160</Steel>
		<ComponentIndustrial>8</ComponentIndustrial>
	</costList>
    <Properties>
		<recoilAmount>1.98</recoilAmount>
		<verbClass>CombatExtended.Verb_ShootCE</verbClass>
		<hasStandardCommand>true</hasStandardCommand>
		<defaultProjectile>Bullet_8mmRailgun_Sabot</defaultProjectile>
		<warmupTime>1.3</warmupTime>
		<range>62</range>
		<burstShotCount>12</burstShotCount>
		<ticksBetweenBurstShots>2</ticksBetweenBurstShots>
		<soundCast>Shot_C14</soundCast>
		<soundCastTail>GunTail_Medium</soundCastTail>
		<muzzleFlashScale>12</muzzleFlashScale>
    </Properties>
    <AmmoUser>
      <magazineSize>200</magazineSize>
      <reloadTime>9</reloadTime>
      <ammoSet>AmmoSet_8mmRailgun</ammoSet>
    </AmmoUser>
    <FireModes>
      <aimedBurstShotCount>6</aimedBurstShotCount>
      <aiAimMode>AimedShot</aiAimMode>
    </FireModes>
  </li>
  
    <!-- ========== Perdition Flamethrower ========== -->
  
<li Class="CombatExtended.PatchOperationMakeGunCECompatible">
    <defName>CoS_Perdition_Flamethrower</defName>
    <statBases>
      <Mass>8.00</Mass>
      <RangedWeapon_Cooldown>0.35</RangedWeapon_Cooldown>
      <SightsEfficiency>1</SightsEfficiency>
      <ShotSpread>0.5</ShotSpread>
      <SwayFactor>4</SwayFactor>
      <Bulk>13.00</Bulk>
    </statBases>
    <Properties>
      <verbClass>CombatExtended.Verb_ShootCE</verbClass>
		<recoilAmount>0.85</recoilAmount>
		<hasStandardCommand>True</hasStandardCommand>
		<defaultProjectile>Bullet_Flamethrower_Prometheum</defaultProjectile>
		<burstShotCount>30</burstShotCount>
		<ticksBetweenBurstShots>1</ticksBetweenBurstShots>
		<warmupTime>1</warmupTime>
		<range>20</range>
		<minRange>3</minRange>
		<soundCast>Shot_PERDITION</soundCast>
		<soundCastTail>GunTail_Light</soundCastTail>
		<muzzleFlashScale>12</muzzleFlashScale>
		<targetParams>
		  <canTargetLocations>true</canTargetLocations>
		</targetParams>
		<ai_IsBuildingDestroyer>true</ai_IsBuildingDestroyer>
    </Properties>
    <AmmoUser>
      <magazineSize>120</magazineSize>
      <reloadTime>8</reloadTime>
      <ammoSet>AmmoSet_Flamethrower</ammoSet>
    </AmmoUser>
    <FireModes>
			<aiAimMode>SuppressFire</aiAimMode>
            <aimedBurstShotCount>20</aimedBurstShotCount>
            <noSingleShot>True</noSingleShot>
    </FireModes>
</li>

  
			</operations>
			</match>
		</Operation>
	</Patch>